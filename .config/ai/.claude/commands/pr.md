# PR作成カスタムコマンド

## 概要

このカスタムコマンドは、Claude Codeを使用してプルリクエスト（PR）を作成する際の標準的な手順を定義します。

## コマンド名

`pr`

## 説明

現在のブランチの変更内容を基に、適切なPRタイトルと説明文を生成し、GitHubでプルリクエストを作成します。

## 実行内容

### 1. 前提条件の確認

- 現在のブランチがmainブランチやdevelopブランチでないことを確認
- リモートリポジトリとの同期状態を確認
- 未コミットの変更がないことを確認
- NEVER: ステージングしていない差分ファイルは意図的にステージングしていない可能性が高いので、`git add`は実行しないこと

### 2. PRテンプレートの確認

- `.github/PULL_REQUEST_TEMPLATE.md` ファイルの存在を確認
- YOU MUST: テンプレートが存在する場合は、その内容を読み込み、PR作成時に使用する

### 3. 変更内容の分析

- `git diff` および `git log` を使用して変更内容を分析
- コミット履歴から変更の目的と内容を理解

### 4. PRタイトルの生成

以下の形式でタイトルを生成：

- `feat:` - 新機能の追加
- `fix:` - バグ修正
- `docs:` - ドキュメントの変更
- `style:` - コードフォーマットの変更
- `refactor:` - リファクタリング
- `test:` - テストの追加・修正
- `chore:` - その他の作業


### 5. PR説明文の生成

- `.github/PULL_REQUEST_TEMPLATE.md`のテンプレートの構造に従って説明文を作成
- 各セクションに適切な内容を記入
- IMPORTANT: PRのdescriptionに、Claude Codeにより作成されたPRが分かる表記を入れる
- YOU MUST: PULL_REQUEST_TEMPLATE.md ファイルに `<!-- I want to review in Japanese. -->` などのコメントが含まれる場合、それもPRのdescriptionに含めるようにすること

### 6. PRの作成

- GitHub CLIを使用してPRを作成

## 注意事項

- PRを作成する前に、必ず変更内容をレビューしてください
- 機密情報や個人情報が含まれていないことを確認してください
