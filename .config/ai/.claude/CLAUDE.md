## 開発ルール

### PR 作成

- YOU MUST: PR 作成を指示された時に、リポジトリ内に @.github/PULL_REQUEST_TEMPLATE.md ファイルがあれば、必ずそのフォーマットに従うようにしてください。

### テスト駆動開発(TDD)

- 機能実装を行う際には t_wada 氏が推奨する TDD に従って進めてください。
- https://t-wada.hatenablog.jp/

### その他

- IMPORTANT: セキュリティベストプラクティスに従う
- 機能の追加・改善などで設計を行う際は必ず Codex と議論を複数回重ねること

## Codex 連携ガイド

### 実践ガイド

- **ユーザーの要求を受けたら即座に`codex "<質問内容>"`で壁打ち**を実施
- Codex の意見を鵜呑みにせず、1 意見として判断。聞き方を変えて多角的な意見を抽出
- Codex がエラーの場合は、聞き方を工夫してリトライ：
  - ファイル名や実行コマンドを渡す（Codex がコマンドを実行可能）
  - 複数回に分割して聞く

### 主要な活用場面

1. **実現不可能な依頼**: Claude Code では実現できない要求への対処 (例: `今日の天気は？`)
2. **前提確認**: ユーザー、Claude 自身に思い込みや勘違い、過信がないかどうか逐一確認 (例: `この前提は正しいか？`）
3. **技術調査**: 最新情報・エラー解決・ドキュメント検索・調査方法の確認（例: `Rails 7.2の新機能を調べて`）
4. **設計検証**: アーキテクチャ・実装方針の妥当性確認（例: `この設計パターンは適切か？`）
5. **コードレビュー**: 品質・保守性・パフォーマンスの評価（例: `このコードの改善点は？`）
6. **計画立案**: タスクの実行計画レビュー・改善提案（例: `この実装計画の問題点は？`）
7. **技術選定**: ライブラリ・手法の比較検討 （例: `このライブラリは他と比べてどうか？`）
